<div class= "dashboard-mid-container" ng-controller= "DashboardController as dashCtrl">

	<div class="col-lg-12" id="dashH1">
		<h1>{{dashCtrl.lang.dashboardH1}}</h1><br>
	</div>
	<!-- /.col-lg-12 -->
	
	<div class="row">
		<div class="col-lg-9" >
			
			<div class="col-lg-3 col-md-6">
				<div class="panel panel-primary">
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-3">
								<i class="glyphicon glyphicon-folder-open" id="dashIcons"></i>
							</div>
							<div class="col-xs-9 text-right">
								<div class="huge">{{dashCtrl.unreadTips}}</div>
							<div>{{dashCtrl.lang.dashboardUnreadTips}}</div>
							</div>
						</div>
					</div>
					<a href="#/tipfeed">
						<div class="panel-footer">
							<span class="pull-left">View Details</span>
							<span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
							<div class="clearfix"></div>
						</div>
					</a>
				</div>
			</div>
			<div class="col-lg-3 col-md-6">
				<div class="panel panel-video">
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-3">
								<i class="glyphicon glyphicon-film" id="dashIcons"></i>
							</div>
							<div class="col-xs-9 text-right">
								<div class="huge">{{dashCtrl.unwatch}}</div>
								<div>{{dashCtrl.lang.dashboardUnwatch}}</div>
							</div>
						</div>
					</div>
					<a href="#/video-archive">
						<div class="panel-footer">
							<span class="pull-left">View Details</span>
							<span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
							<div class="clearfix"></div>
						</div>
					</a>
				</div>
			</div>
			<div class="col-lg-3 col-md-6">
				<div class="panel panel-chat">
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-3">
								<i class="glyphicon glyphicon-comment" id="dashIcons"></i>
							</div>
							<div class="col-xs-9 text-right">
								<div class="huge">{{dashCtrl.unreadChats}}</div>
								<div>{{dashCtrl.lang.dashboardUnreadChats}}</div>
							</div>
						</div>
					</div>
					<a href="#">
						<div class="panel-footer">
							<span class="pull-left">View Details</span>
							<span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
							<div class="clearfix"></div>
						</div>
					</a>
				</div>
			</div>

			<div class="col-lg-3 col-md-6">
				<div class="panel panel-time" >
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-3">
								<i class="glyphicon glyphicon-time" id="dashIcons"></i>
							</div>
							<div class="col-xs-9 text-right">
								<div class="huge">{{dashCtrl.responseTime}} </div>

							</div>
							<div class="text-right">{{dashCtrl.lang.dashboardResponse}} ({{dashCtrl.time}})</div>
						</div>
					</div>
					<a href="#/tipfeed">
						<div class="panel-footer">
							<span class="pull-left">View Details</span>
							<span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
							<div class="clearfix"></div>
						</div>
					</a>
				</div>
			</div>
			

			<div class= "col-lg-12">
				<div ng-controller="DataAnalysisController as analysisCtrl" class="dashChart">
					<div id="chart_div"  ng-show='!analysisCtrl.loading && !analysisCtrl.showErrorMessage'>

						<!-- YEAR SELECTOR -->
						<label class="">{{dashCtrl.lang.dashboardYear}}</label>
						<select class="custom-selector" ng-model="analysisCtrl.yearInSelector">
							<option value="{{analysisCtrl.currentYear}}">{{analysisCtrl.currentYear}}</option>
							<option value="{{year}}" ng-repeat="year in analysisCtrl.previousAvailableYears">{{year}}</option>
						</select>
						<button class="btn btn-primary" ng-click="analysisCtrl.selectYear(analysisCtrl.yearInSelector)">{{dashCtrl.lang.dashboardSelectYear}}</button>
						<br><br>
						<span style="font-weight: bold;">{{analysisCtrl.selectedMonth? analysisCtrl.selectedMonth+', '+analysisCtrl.selectedYear: 'Year: ' + analysisCtrl.selectedYear}}</span>

						<!-- NUM OF TIPS vs DATE Chart-->
						<div google-chart chart="analysisCtrl.tipsDateChart" style="height: 350px; width: 100%; xmenposition: relative;" class="ng-scope ng-isolate-scope"></div>
						
					</div>

				</div>
			</div>
		</div>


		
		




		<div class="col-lg-3">
			<div class= "row">
				<div class="panel panel-default">
					<div class="panel-heading">
						<i class="fa fa-bell fa-fw"></i> {{dashCtrl.lang.dashboardRecent}}
					</div>

					<div class="panel-body">
						<div class="list-group">
							<div >
								<div ng-repeat ="notification in dashCtrl.getTips"  ng-click="dashCtrl.changeState('tipfeed')">
									<a href="#/tipfeed" class="list-group-item">
										<i class="fa fa-folder-open fa-fw"></i> {{notification.crimeType}}
										<span class="pull-right text-muted small"><em>{{notification.timeAgo}} {{dashCtrl.lang.minutesAgo}}</em>
									</span>
									</a>
								</div>
							</div>
							<div class="dashPanel">
								<div ng-repeat ="notification in dashCtrl.getVideos" >
									<a href="#/video-archive" class="list-group-item">
										<i class="fa fa-play fa-fw"></i> {{notification.mobileUser}}
										<span class="pull-right text-muted small"><em>{{notification.timeAgo}} {{dashCtrl.lang.minutesAgo}}</em>
										</span>
									</a>
								</div>
							</div>
							<div class="dashPanel">
								<div ng-repeat ="notification in dashCtrl.chat"  >
									<a href="#" class="list-group-item">
										<i class="fa fa-comment fa-fw"></i> {{notification.type}}
										<span class="pull-right text-muted small"><em>{{notification.time}}</em>
										</span>
									</a>
								</div>
							</div>
							
						</div>
					</div>
				</div>
			</div>				
		</div>
	</div>

	
	
</div>